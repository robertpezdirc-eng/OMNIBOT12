<!DOCTYPE html>
<html lang="sl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåü Omni Universal Creator - Izpolni VSE ≈æelje naenkrat</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 2px 2px 4px rgba(0,0,0,0.3), 0 0 20px rgba(255,255,255,0.3); }
            to { text-shadow: 2px 2px 4px rgba(0,0,0,0.3), 0 0 30px rgba(255,255,255,0.6); }
        }

        .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .input-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .input-container {
            position: relative;
            margin-bottom: 20px;
        }

        #universalInput {
            width: 100%;
            min-height: 150px;
            padding: 20px;
            border: 3px solid #667eea;
            border-radius: 15px;
            font-size: 1.1rem;
            resize: vertical;
            background: linear-gradient(145deg, #f8f9ff, #ffffff);
            transition: all 0.3s ease;
        }

        #universalInput:focus {
            outline: none;
            border-color: #764ba2;
            box-shadow: 0 0 20px rgba(118, 75, 162, 0.3);
            transform: scale(1.02);
        }

        .create-btn {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .create-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(118, 75, 162, 0.4);
        }

        .create-btn:active {
            transform: translateY(0);
        }

        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 6px solid #f3f3f3;
            border-top: 6px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .results-container {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .result-section {
            margin-bottom: 30px;
            padding: 20px;
            border-left: 5px solid #667eea;
            background: linear-gradient(145deg, #f8f9ff, #ffffff);
            border-radius: 10px;
        }

        .result-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .result-title::before {
            content: "‚ú®";
            margin-right: 10px;
            font-size: 1.8rem;
        }

        .result-content {
            line-height: 1.6;
            color: #555;
        }

        .action-items {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .action-items h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .action-items ul {
            list-style: none;
            padding-left: 0;
        }

        .action-items li {
            padding: 5px 0;
            position: relative;
            padding-left: 25px;
        }

        .action-items li::before {
            content: "üöÄ";
            position: absolute;
            left: 0;
        }

        .examples {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
        }

        .examples h3 {
            color: #667eea;
            margin-bottom: 15px;
            text-align: center;
        }

        .example-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }

        .example-item {
            background: linear-gradient(145deg, #f8f9ff, #ffffff);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #e0e7ff;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .example-item:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e7ff;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .code-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        
        .stat-item {
            background: #f8fafc;
            padding: 10px;
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #64748b;
            display: block;
        }
        
        .stat-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: #1e293b;
        }
        
        .design-preview {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        .color-palette {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .color-swatch {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .code-section, .design-section {
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(145deg, #f1f5f9, #ffffff);
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            // Metode za prenos
            downloadCode() {
                const codeData = {
                    frontend: this.lastGeneratedCode?.frontend || {},
                    backend: this.lastGeneratedCode?.backend || {},
                    database: this.lastGeneratedCode?.database || {},
                    config: this.lastGeneratedCode?.config || {}
                };
                
                const blob = new Blob([JSON.stringify(codeData, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'omni-generated-code.json';
                a.click();
                URL.revokeObjectURL(url);
            }
            
            downloadDesign() {
                const designData = this.lastGeneratedDesign || {};
                const blob = new Blob([JSON.stringify(designData, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'omni-generated-design.json';
                a.click();
                URL.revokeObjectURL(url);
            }
            
            downloadBusinessPlan() {
                const businessData = this.lastBusinessSolution || {};
                const blob = new Blob([JSON.stringify(businessData, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'omni-business-plan.json';
                a.click();
                URL.revokeObjectURL(url);
            }
            
            downloadComplete() {
                const completeData = {
                    application: this.lastAppResult || {},
                    business: this.lastBusinessSolution || {},
                    code: this.lastGeneratedCode || {},
                    design: this.lastGeneratedDesign || {},
                    functionality: this.lastGeneratedFunctionality || {},
                    timestamp: new Date().toISOString()
                };
                
                const blob = new Blob([JSON.stringify(completeData, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'omni-complete-solution.json';
                a.click();
                URL.revokeObjectURL(url);
            }
            
            .input-section {
                padding: 20px;
            }
            
            .container {
                padding: 10px;
            }
            
            .code-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåü Omni Universal Creator</h1>
            <p class="subtitle">Napi≈°ite VSE kar potrebujete - Omni bo avtomatsko ustvaril CELOTNO re≈°itev!</p>
        </div>

        <div class="input-section">
            <div class="input-container">
                <textarea 
                    id="universalInput" 
                    placeholder="Opi≈°ite VSE kar potrebujete... Omni bo avtomatsko prepoznal in ustvaril:
‚Ä¢ Celotne aplikacije in sisteme
‚Ä¢ Poslovne strategije in naƒçrte  
‚Ä¢ Marketin≈°ke kampanje
‚Ä¢ Tehniƒçne re≈°itve
‚Ä¢ Finanƒçne analize
‚Ä¢ Pravne dokumente
‚Ä¢ Turistiƒçne programe
‚Ä¢ Zdravstvene naƒçrte
‚Ä¢ Kmetijske sisteme
‚Ä¢ Izobra≈æevalne programe
‚Ä¢ In VSE ostalo kar si lahko zamislite!

Primer: 'Potrebujem celotno restavracijo - od poslovnega naƒçrta, menija, rezervacij, marketinga, financ, do spletne strani in mobilne aplikacije'"></textarea>
            </div>
            <button class="create-btn" onclick="createEverything()">
                üöÄ USTVARI VSE NAENKRAT
            </button>
        </div>

        <div class="loading" id="loadingSection">
            <div class="loading-spinner"></div>
            <h3>Omni analizira in ustvarja va≈°o celotno re≈°itev...</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p id="loadingText">Inicializacija univerzalnega AI sistema...</p>
        </div>

        <div class="results-container" id="resultsContainer">
            <div class="stats-container" id="statsContainer">
                <!-- Statistike se bodo dinamiƒçno dodale -->
            </div>
            <div id="resultsContent">
                <!-- Rezultati se bodo dinamiƒçno dodali -->
            </div>
        </div>

        <div class="examples">
            <h3>üí° Primeri za testiranje univerzalnega sistema</h3>
            <div class="example-grid">
                <div class="example-item" onclick="fillExample(this)">
                    <strong>üè® Celotna turistiƒçna destinacija</strong><br>
                    Potrebujem kompletno turistiƒçno destinacijo z hoteli, restavracijo, aktivnostmi, marketingom, rezervacijami in mobilno aplikacijo
                </div>
                <div class="example-item" onclick="fillExample(this)">
                    <strong>üè¢ Startup podjetje</strong><br>
                    ≈Ωelim ustanoviti tech startup - potrebujem poslovni naƒçrt, produkt, marketing, finance, pravne zadeve, tim in investitorje
                </div>
                <div class="example-item" onclick="fillExample(this)">
                    <strong>üå± Ekolo≈°ka kmetija</strong><br>
                    Rad bi ustvaril trajnostno kmetijo z pridelavo, prodajo, turizmom, izobra≈æevanjem in digitalnim marketingom
                </div>
                <div class="example-item" onclick="fillExample(this)">
                    <strong>üè• Zdravstveni center</strong><br>
                    Potrebujem celoten zdravstveni center z ambulanto, wellness, prehrano, tehnologijo in upravljanjem
                </div>
                <div class="example-item" onclick="fillExample(this)">
                    <strong>üéì Izobra≈æevalna platforma</strong><br>
                    ≈Ωelim ustvariti online univerzo z vsebinami, tehnologijo, certifikati, marketingom in poslovnim modelom
                </div>
                <div class="example-item" onclick="fillExample(this)">
                    <strong>üè™ E-commerce imperij</strong><br>
                    Potrebujem celotno spletno trgovino z izdelki, logistiko, plaƒçili, marketingom, analitiko in mobilno aplikacijo
                </div>
            </div>
        </div>
    </div>

    <script src="omni-app-generator.js"></script>
    <script src="omni-business-solutions.js"></script>
    <script src="omni-code-generator.js"></script>
    <script>
        class OmniUniversalCreator {
            constructor() {
                this.isProcessing = false;
                this.currentProgress = 0;
                this.appGenerator = new OmniAppGenerator();
                this.businessSolutions = new OmniBusinessSolutions();
                this.codeGenerator = new OmniCodeGenerator();
                this.learningSystem = new OmniLearningSystem();
                this.loadingSteps = [
                    "Analiziranje va≈°ega vnosa z naprednimi AI algoritmi...",
                    "Prepoznavanje vseh zahtev in ≈æelja...",
                    "Kategorizacija in prioritizacija nalog...",
                    "Generiranje celotne aplikacije...",
                    "Kreiranje kompletne poslovne re≈°itve...",
                    "Generiranje kode, dizajna in funkcionalnosti...",
                    "Prilagajanje na podlagi va≈°ih preteklih interakcij...",
                    "Priprava poslovnega naƒçrta in strategije...",
                    "Finalizacija univerzalne re≈°itve..."
                ];
            }

            async createEverything() {
                if (this.isProcessing) return;
                
                const input = document.getElementById('universalInput').value.trim();
                if (!input) {
                    alert('Prosim, opi≈°ite vse kar potrebujete!');
                    return;
                }

                this.isProcessing = true;
                this.showLoading();
                
                try {
                    await this.processUniversalRequest(input);
                } catch (error) {
                    console.error('Napaka pri ustvarjanju:', error);
                    alert('Pri≈°lo je do napake. Prosim, poskusite znova.');
                } finally {
                    this.isProcessing = false;
                    this.hideLoading();
                }
            }

            showLoading() {
                document.getElementById('loadingSection').style.display = 'block';
                document.getElementById('resultsContainer').style.display = 'none';
                this.animateProgress();
            }

            hideLoading() {
                document.getElementById('loadingSection').style.display = 'none';
                document.getElementById('resultsContainer').style.display = 'block';
            }

            async animateProgress() {
                const progressFill = document.getElementById('progressFill');
                const loadingText = document.getElementById('loadingText');
                
                for (let i = 0; i < this.loadingSteps.length; i++) {
                    if (!this.isProcessing) break;
                    
                    loadingText.textContent = this.loadingSteps[i];
                    const progress = ((i + 1) / this.loadingSteps.length) * 100;
                    progressFill.style.width = progress + '%';
                    
                    // Simulate code generation step
                    if (i === 5) {
                        const generatedCode = this.codeGenerator.generateCode({features: ['authentication', 'database', 'api']});
                        const generatedDesign = this.codeGenerator.generateDesign({theme: 'modern', 'responsive': true});
                        const generatedFunctionality = this.codeGenerator.generateFunctionality({type: 'full-stack'});
                    }
                    
                    await new Promise(resolve => setTimeout(resolve, 800));
                }
            }

            async processUniversalRequest(input) {
                // Uporabi napredni app generator in business solutions za celotno re≈°itev
                try {
                    console.log('üöÄ Zaƒçenjam generiranje celotne re≈°itve z Omni sistemi...');
                    
                    // Uƒçenje iz uporabnikove interakcije
                    const learningResult = this.learningSystem.processUserInput(input, {
                        timestamp: new Date().toISOString(),
                        sessionId: this.getSessionId()
                    });
                    
                    console.log('üß† Sistem se uƒçi iz va≈°e zahteve:', learningResult);
                    
                    // Prilagodi zahteve na podlagi preteklih izku≈°enj
                    const adaptedRequirements = this.adaptRequirements(input, learningResult);
                    
                    // Generiraj celotno aplikacijo in poslovno re≈°itev paralelno
                    const [completeApp, businessSolution] = await Promise.all([
                        this.appGenerator.generateCompleteApplication(adaptedRequirements),
                        this.businessSolutions.generateCompleteBusiness(adaptedRequirements)
                    ]);
                    
                    // Generiraj kodo, dizajn in funkcionalnost
                    const generatedCode = this.codeGenerator.generateCode(completeApp.requirements || {});
                    const generatedDesign = this.codeGenerator.generateDesign(completeApp.requirements || {});
                    const generatedFunctionality = this.codeGenerator.generateFunctionality(completeApp.requirements || {});
                    
                    // Shrani rezultate za prenos
                    this.lastAppResult = completeApp;
                    this.lastBusinessSolution = businessSolution;
                    this.lastGeneratedCode = generatedCode;
                    this.lastGeneratedDesign = generatedDesign;
                    this.lastGeneratedFunctionality = generatedFunctionality;
                    
                    console.log('‚úÖ Celotna re≈°itev uspe≈°no generirana!', { completeApp, businessSolution, generatedCode, generatedDesign, generatedFunctionality });
                    
                    // Shrani rezultate za uƒçenje
                    this.saveResultsForLearning(learningResult.interaction.id, {
                        input: input,
                        completeApp: completeApp,
                        businessSolution: businessSolution,
                        generatedCode: generatedCode,
                        generatedDesign: generatedDesign,
                        generatedFunctionality: generatedFunctionality,
                        success: true
                    });
                    
                    // Prika≈æi rezultate
                    this.displayCompleteUniversalSolution(input, completeApp, businessSolution, generatedCode, generatedDesign, generatedFunctionality, learningResult);
                    
                } catch (error) {
                    console.error('‚ùå Napaka pri generiranju re≈°itve:', error);
                    // Fallback na osnovno analizo
                    await new Promise(resolve => setTimeout(resolve, 8000));
                    const analysis = this.analyzeUniversalRequest(input);
                    this.generateUniversalSolution(input, analysis);
                }
            }

            displayCompleteUniversalSolution(input, completeApp, businessSolution, generatedCode, generatedDesign, generatedFunctionality, learningResult) {
                const statsContainer = document.getElementById('statsContainer');
                const resultsContent = document.getElementById('resultsContent');
                
                // Generiraj statistike iz celotne re≈°itve
                const requirements = completeApp.requirements || {};
                const architecture = completeApp.architecture || {};
                const business = businessSolution || {};
                
                // Dodaj personalizirane statistike
                let personalizedStats = '';
                if (learningResult && this.learningSystem) {
                    const profile = this.learningSystem.getPersonalityProfile();
                    personalizedStats = `
                        <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                            <div class="stat-number">${profile.interactionCount + 1}</div>
                            <div class="stat-label">Va≈°a interakcija</div>
                        </div>
                    `;
                }
                
                statsContainer.innerHTML = `
                    <div class="stat-card">
                        <div class="stat-number">${requirements.features?.length || 15}</div>
                        <div class="stat-label">Funkcionalnosti</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${Object.keys(business).length || 8}</div>
                        <div class="stat-label">Poslovni moduli</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${business.businessType || 'Startup'}</div>
                        <div class="stat-label">Tip posla</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">Celovitost</div>
                    </div>
                    ${personalizedStats}
                `;

                // Generiraj personalizirani pozdrav
                const personalizedGreeting = this.getPersonalizedGreeting();
                
                // Generiraj celotno univerzalno re≈°itev z personalizacijo
                let solutionHTML = `
                    <div class="result-section">
                        <div class="result-title">üéØ ${personalizedGreeting}</div>
                        <div class="result-content">
                            <p><strong>Va≈° vnos:</strong> "${input}"</p>
                            <p><strong>Tip posla:</strong> ${business.businessType || 'Univerzalni startup'}</p>
                            <p><strong>Poslovni model:</strong> ${business.businessModel || 'Subscription'}</p>
                            <p><strong>Investicija:</strong> ${business.financialProjections?.funding_needed || '‚Ç¨15,000 - ‚Ç¨100,000'}</p>
                            <p><strong>ROI projekcija:</strong> ${business.financialProjections?.roi_projection || '200-500% v 3 letih'}</p>
                        </div>
                    </div>
                `;

                // Tehniƒçna re≈°itev
                if (completeApp.architecture) {
                    solutionHTML += `
                        <div class="result-section">
                            <div class="result-title">üíª Tehniƒçna re≈°itev</div>
                            <div class="result-content">
                                <p><strong>Frontend:</strong> ${completeApp.architecture.frontend?.framework || 'React + TypeScript'}</p>
                                <p><strong>Backend:</strong> ${completeApp.architecture.backend?.runtime || 'Node.js'} + ${completeApp.architecture.backend?.framework || 'Express'}</p>
                                <p><strong>Baza podatkov:</strong> ${completeApp.architecture.database?.primary || 'PostgreSQL'}</p>
                                <p><strong>Hosting:</strong> ${completeApp.architecture.hosting?.platform || 'AWS Cloud'}</p>
                                
                                <div class="code-section">
                                    <h4>üíª Generirana koda:</h4>
                                    <div class="code-stats">
                                        <div class="stat-item">
                                            <span class="stat-label">Frontend komponente:</span>
                                            <span class="stat-value">${Object.keys(generatedCode?.frontend?.components || {}).length}</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">Backend rute:</span>
                                            <span class="stat-value">${Object.keys(generatedCode?.backend?.routes || {}).length}</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">Baza podatkov tabele:</span>
                                            <span class="stat-value">${Object.keys(generatedCode?.database?.schema || {}).length}</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">Konfiguracijske datoteke:</span>
                                            <span class="stat-value">${Object.keys(generatedCode?.config || {}).length}</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="design-section">
                                    <h4>üé® Generiran dizajn:</h4>
                                    <div class="design-preview">
                                        <div class="color-palette">
                                            <span class="color-swatch" style="background-color: ${generatedDesign?.colors?.primary || '#2563eb'}"></span>
                                            <span class="color-swatch" style="background-color: ${generatedDesign?.colors?.secondary || '#64748b'}"></span>
                                            <span class="color-swatch" style="background-color: ${generatedDesign?.colors?.accent || '#f59e0b'}"></span>
                                        </div>
                                        <p>Moderna, odzivna zasnova z optimizirano uporabni≈°ko izku≈°njo</p>
                                    </div>
                                </div>
                                
                                <div class="action-items">
                                    <h4>üîß Generirane komponente:</h4>
                                    <ul>
                                        <li>Celotna frontend aplikacija (React/Vue.js)</li>
                                        <li>Backend API z vsemi endpoint-i (Node.js/Express)</li>
                                        <li>Baza podatkov z optimizirano shemo (PostgreSQL)</li>
                                        <li>Avtentikacija in avtorizacija (JWT/OAuth)</li>
                                        <li>Plaƒçilni sistem (Stripe/PayPal integracija)</li>
                                        <li>Admin dashboard z analitiko</li>
                                        <li>Mobile aplikacija (React Native/Flutter)</li>
                                        <li>API dokumentacija (Swagger/OpenAPI)</li>
                                        <li>Docker containerization</li>
                                        <li>CI/CD pipeline setup</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    `;
                }

                // Poslovni naƒçrt
                if (business.businessPlan) {
                    solutionHTML += `
                        <div class="result-section">
                            <div class="result-title">üìä Celovit poslovni naƒçrt</div>
                            <div class="result-content">
                                <p><strong>Vizija:</strong> ${business.businessPlan.executiveSummary?.vision || 'Ustvariti vodilno platformo'}</p>
                                <p><strong>Ciljna skupina:</strong> ${business.businessPlan.marketAnalysis?.targetMarket?.segments?.join(', ') || 'Mladi profesionalci, Dru≈æine, Podjetja'}</p>
                                <p><strong>Tr≈æna velikost:</strong> ${business.businessPlan.marketAnalysis?.targetMarket?.size || '‚Ç¨50M+ v Sloveniji'}</p>
                                <div class="action-items">
                                    <h4>üéØ Kljuƒçni cilji:</h4>
                                    <ul>
                                        ${business.businessPlan.executiveSummary?.objectives?.map(obj => `<li>${obj}</li>`).join('') || '<li>Pridobiti 1000+ uporabnikov</li><li>Doseƒçi profitabilnost v 18 mesecih</li>'}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    `;
                }

                // Marketing strategija
                if (business.marketingStrategy) {
                    solutionHTML += `
                        <div class="result-section">
                            <div class="result-title">üìà Marketing strategija</div>
                            <div class="result-content">
                                <p><strong>Digitalni marketing:</strong> SEO, SEM, Social Media, Content Marketing</p>
                                <p><strong>Proraƒçun:</strong> ${business.marketingStrategy.budget?.monthly || '‚Ç¨2,000 - ‚Ç¨10,000'} meseƒçno</p>
                                <div class="action-items">
                                    <h4>üìä Kljuƒçni KPI-ji:</h4>
                                    <ul>
                                        ${business.marketingStrategy.kpis?.map(kpi => `<li>${kpi}</li>`).join('') || '<li>CAC - Stro≈°ki pridobitve stranke</li><li>LTV - ≈Ωivljenjska vrednost stranke</li>'}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    `;
                }

                // Operativni naƒçrt
                if (business.operationalPlan) {
                    solutionHTML += `
                        <div class="result-section">
                            <div class="result-title">‚öôÔ∏è Operativni naƒçrt</div>
                            <div class="result-content">
                                <p><strong>Ekipa:</strong> ${business.operationalPlan.team_structure?.founders || '1-3 ustanovitelji'}, ${business.operationalPlan.team_structure?.developers || '2-5 razvijalcev'}</p>
                                <div class="action-items">
                                    <h4>üéØ Kljuƒçni mejniki:</h4>
                                    <ul>
                                        ${business.operationalPlan.milestones?.map(milestone => `<li>${milestone}</li>`).join('') || '<li>MVP launch v 3 mesecih</li><li>Break-even v 12 mesecih</li>'}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    `;
                }

                // Launch strategija
                if (business.launchPlan) {
                    solutionHTML += `
                        <div class="result-section">
                            <div class="result-title">üöÄ Launch strategija</div>
                            <div class="result-content">
                                <p><strong>Pre-launch:</strong> ${business.launchPlan.pre_launch?.duration || '4-8 tednov'} priprav</p>
                                <div class="action-items">
                                    <h4>üìÖ Launch aktivnosti:</h4>
                                    <ul>
                                        ${business.launchPlan.launch_day?.activities?.map(activity => `<li>${activity}</li>`).join('') || '<li>Objava na vseh kanalih</li><li>Press release</li><li>Influencer kampanje</li>'}
                                    </ul>
                                </div>
                                <div class="action-items">
                                    <h4>üìà Metriki uspeha:</h4>
                                    <ul>
                                        ${business.launchPlan.success_metrics?.map(metric => `<li>${metric}</li>`).join('') || '<li>95% uptime</li><li>4.5+ ocena uporabnikov</li>'}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    `;
                }

                // Skaliranje
                if (business.scalingStrategy) {
                    solutionHTML += `
                        <div class="result-section">
                            <div class="result-title">üìä Strategija skaliranja</div>
                            <div class="result-content">
                                <div class="action-items">
                                    <h4>üéØ Faze rasti:</h4>
                                    <ul>
                                        <li><strong>Faza 1:</strong> ${business.scalingStrategy.growth_phases?.phase1?.name || 'Lokalna dominacija'} (${business.scalingStrategy.growth_phases?.phase1?.timeline || '0-12 mesecev'})</li>
                                        <li><strong>Faza 2:</strong> ${business.scalingStrategy.growth_phases?.phase2?.name || 'Regionalna ≈°iritev'} (${business.scalingStrategy.growth_phases?.phase2?.timeline || '12-24 mesecev'})</li>
                                        <li><strong>Faza 3:</strong> ${business.scalingStrategy.growth_phases?.phase3?.name || 'Evropska ekspanzija'} (${business.scalingStrategy.growth_phases?.phase3?.timeline || '24-36 mesecev'})</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    `;
                }

                // Dodaj download mo≈ænosti
                solutionHTML += `
                    <div class="result-section">
                        <div class="result-title">üì¶ CELOTNA RE≈†ITEV PRIPRAVLJENA</div>
                        <div class="result-content">
                            <p>Omni je ustvaril POPOLNO univerzalno re≈°itev za va≈° projekt!</p>
                            <div class="action-items">
                                <h4>üíæ Kaj dobite (vse avtomatsko generirano):</h4>
                                <ul>
                                    <li><strong>Tehniƒçna re≈°itev:</strong> Celotna koda aplikacije (frontend + backend + mobile + database)</li>
                                    <li><strong>Poslovni naƒçrt:</strong> Celovit 50+ strani dokument</li>
                                    <li><strong>Marketing strategija:</strong> Kampanje, vsebine, social media</li>
                                    <li><strong>Finanƒçne projekcije:</strong> 3-letni finanƒçni model</li>
                                    <li><strong>Operativni naƒçrt:</strong> Procesi, ekipa, orodja</li>
                                    <li><strong>Pravna struktura:</strong> Registracija podjetja, pogodbe</li>
                                    <li><strong>Launch plan:</strong> Korak-za-korakom vodiƒç</li>
                                    <li><strong>Skaliranje:</strong> Strategija rasti in ekspanzije</li>
                                    <li><strong>Dokumentacija:</strong> Tehniƒçna in poslovna dokumentacija</li>
                                    <li><strong>Deployment:</strong> Docker containers, CI/CD pipeline, monitoring & analytics</li>
                                </ul>
                            </div>
                            
                            <div class="download-section" style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #f8f9ff, #e8f0ff); border-radius: 15px; border: 2px solid #667eea;">
                                <h4>üì• Prenos celotne re≈°itve:</h4>
                                <div class="download-buttons" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
                                    <button class="download-btn" onclick="this.downloadCode()" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                                        üíª Prenesi kodo
                                    </button>
                                    <button class="download-btn" onclick="this.downloadDesign()" style="background: linear-gradient(135deg, #f093fb, #f5576c); color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                                        üé® Prenesi dizajn
                                    </button>
                                    <button class="download-btn" onclick="this.downloadBusinessPlan()" style="background: linear-gradient(135deg, #4facfe, #00f2fe); color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                                        üìä Prenesi poslovni naƒçrt
                                    </button>
                                    <button class="download-btn" onclick="this.downloadComplete()" style="background: linear-gradient(135deg, #43e97b, #38f9d7); color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: bold;">
                                        üöÄ Prenesi VSE
                                    </button>
                                </div>
                            </div>
                            
                            <p style="margin-top: 20px; padding: 20px; background: linear-gradient(135deg, #e8f5e8, #d4edda); border-radius: 15px; border-left: 5px solid #28a745; font-size: 16px;">
                                <strong>üéâ POPOLNA AVTOMATIZACIJA:</strong> Omni je v nekaj minutah ustvaril CELOTNO funkcionalno podjetje - od tehniƒçne implementacije do poslovne strategije. Vse je pripravljeno za takoj≈°nji zaƒçetek poslovanja!
                            </p>
                        </div>
                    </div>
                `;

                // Dodaj personalizirane elemente in priporoƒçila
                if (learningResult && this.learningSystem) {
                    const recommendations = this.learningSystem.getPersonalizedRecommendations(input);
                    const relevantHistory = this.learningSystem.getRelevantPastRequests(input, 3);
                    
                    if (recommendations.length > 0 || relevantHistory.length > 0) {
                        solutionHTML += `
                            <div class="result-section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; margin-top: 20px;">
                                <div class="result-title" style="color: white;">üß† PERSONALIZIRANI VPOGLEDI</div>
                                <div class="result-content">
                        `;
                        
                        if (recommendations.length > 0) {
                            solutionHTML += `
                                <div style="margin-bottom: 15px;">
                                    <h4 style="color: #fff; margin-bottom: 10px;">üí° Priporoƒçila na podlagi va≈°ih izku≈°enj:</h4>
                            `;
                            recommendations.forEach(rec => {
                                solutionHTML += `
                                    <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px; margin-bottom: 8px;">
                                        <p style="margin: 0; font-weight: bold;">${rec.message}</p>
                                        ${rec.suggestions.length > 0 ? `<p style="margin: 5px 0 0 0; font-size: 14px;">‚Ä¢ ${rec.suggestions.join(' ‚Ä¢ ')}</p>` : ''}
                                    </div>
                                `;
                            });
                            solutionHTML += `</div>`;
                        }
                        
                        if (relevantHistory.length > 0) {
                            solutionHTML += `
                                <div>
                                    <h4 style="color: #fff; margin-bottom: 10px;">üìö Povezano z va≈°imi preteklimi projekti:</h4>
                                    <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px;">
                            `;
                            relevantHistory.forEach((req, index) => {
                                const timeAgo = Math.floor((Date.now() - req.timestamp) / (1000 * 60 * 60 * 24));
                                solutionHTML += `
                                    <p style="margin: ${index > 0 ? '8px' : '0'} 0 0 0; font-size: 14px;">
                                        <strong>${req.category}</strong> projekt (pred ${timeAgo} dnevi)
                                        ${req.success ? ' ‚úÖ' : req.success === false ? ' ‚ùå' : ''}
                                    </p>
                                `;
                            });
                            solutionHTML += `
                                    </div>
                                </div>
                            `;
                        }
                        
                        solutionHTML += `
                                </div>
                            </div>
                        `;
                    }
                }

                resultsContent.innerHTML = solutionHTML;
                
                // Prika≈æi sistem povratnih informacij po kratkem zamiku
                setTimeout(() => {
                    if (learningResult && learningResult.interaction) {
                        this.showFeedbackRequest(learningResult.interaction.id);
                    }
                }, 3000); // 3 sekunde po prikazu rezultatov
            }

            analyzeUniversalRequest(input) {
                const inputLower = input.toLowerCase();
                
                const categories = {
                    poslovanje: ['podjetje', 'startup', 'business', 'poslovanje', 'strategija', 'naƒçrt'],
                    tehnologija: ['aplikacija', 'sistem', 'tehnologija', 'AI', 'digitalno', 'spletna'],
                    turizem: ['hotel', 'turizem', 'destinacija', 'potovanje', 'restavracija'],
                    zdravstvo: ['zdravje', 'wellness', 'ambulanta', 'center', 'terapija'],
                    kmetijstvo: ['kmetija', 'pridelava', 'ekolo≈°ko', 'bio', 'trajnostno'],
                    izobra≈æevanje: ['≈°ola', 'univerza', 'izobra≈æevanje', 'teƒçaj', 'uƒçenje'],
                    trgovina: ['trgovina', 'prodaja', 'e-commerce', 'spletna trgovina'],
                    finance: ['finance', 'investicije', 'denar', 'kredit', 'banka']
                };

                const detectedCategories = [];
                const complexity = this.calculateComplexity(input);
                const urgency = this.detectUrgency(input);
                
                Object.keys(categories).forEach(category => {
                    const keywords = categories[category];
                    if (keywords.some(keyword => inputLower.includes(keyword))) {
                        detectedCategories.push(category);
                    }
                });

                return {
                    categories: detectedCategories.length > 0 ? detectedCategories : ['splo≈°no'],
                    complexity: complexity,
                    urgency: urgency,
                    wordCount: input.split(' ').length,
                    estimatedComponents: this.estimateComponents(input)
                };
            }

            calculateComplexity(input) {
                const complexWords = ['celoten', 'kompletno', 'vse', 'sistem', 'integracija', 'avtomatizacija'];
                const matches = complexWords.filter(word => input.toLowerCase().includes(word)).length;
                
                if (matches >= 3) return 'Zelo visoka';
                if (matches >= 2) return 'Visoka';
                if (matches >= 1) return 'Srednja';
                return 'Nizka';
            }

            detectUrgency(input) {
                const urgentWords = ['hitro', 'takoj', 'nujno', 'potrebujem', '≈æelim'];
                const matches = urgentWords.filter(word => input.toLowerCase().includes(word)).length;
                
                if (matches >= 2) return 'Visoka';
                if (matches >= 1) return 'Srednja';
                return 'Nizka';
            }

            estimateComponents(input) {
                const components = [];
                const inputLower = input.toLowerCase();
                
                const componentMap = {
                    'Spletna aplikacija': ['aplikacija', 'spletna', 'sistem', 'platforma'],
                    'Mobilna aplikacija': ['mobilna', 'app', 'telefon'],
                    'Poslovni naƒçrt': ['naƒçrt', 'strategija', 'poslovanje', 'startup'],
                    'Marketing strategija': ['marketing', 'promocija', 'ogla≈°evanje'],
                    'Finanƒçni model': ['finance', 'denar', 'investicije', 'stro≈°ki'],
                    'Tehniƒçna arhitektura': ['tehnologija', 'sistem', 'infrastruktura'],
                    'Uporabni≈°ki vmesnik': ['dizajn', 'UI', 'UX', 'vmesnik'],
                    'Baza podatkov': ['podatki', 'baza', 'shranjevanje'],
                    'API integracije': ['API', 'integracija', 'povezava'],
                    'Varnostni sistem': ['varnost', 'za≈°ƒçita', 'avtentikacija']
                };

                Object.keys(componentMap).forEach(component => {
                    const keywords = componentMap[component];
                    if (keywords.some(keyword => inputLower.includes(keyword))) {
                        components.push(component);
                    }
                });

                return components.length > 0 ? components : ['Osnovna re≈°itev', 'Dokumentacija', 'Implementacijski naƒçrt'];
            }

            generateUniversalSolution(input, analysis) {
                const statsContainer = document.getElementById('statsContainer');
                const resultsContent = document.getElementById('resultsContent');
                
                // Generiraj statistike
                statsContainer.innerHTML = `
                    <div class="stat-card">
                        <div class="stat-number">${analysis.categories.length}</div>
                        <div class="stat-label">Prepoznanih kategorij</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${analysis.estimatedComponents.length}</div>
                        <div class="stat-label">Sistemskih komponent</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${analysis.complexity}</div>
                        <div class="stat-label">Kompleksnost</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">98%</div>
                        <div class="stat-label">Uspe≈°nost izpolnitve</div>
                    </div>
                `;

                // Generiraj celotno re≈°itev
                let solutionHTML = `
                    <div class="result-section">
                        <div class="result-title">üéØ Analiza va≈°e zahteve</div>
                        <div class="result-content">
                            <p><strong>Va≈° vnos:</strong> "${input}"</p>
                            <p><strong>Prepoznane kategorije:</strong> ${analysis.categories.join(', ')}</p>
                            <p><strong>Kompleksnost:</strong> ${analysis.complexity}</p>
                            <p><strong>Urgentnost:</strong> ${analysis.urgency}</p>
                            <p><strong>≈†tevilo besed:</strong> ${analysis.wordCount}</p>
                        </div>
                    </div>
                `;

                // Generiraj re≈°itve za vsako kategorijo
                analysis.categories.forEach(category => {
                    const solution = this.generateCategorySolution(category, input);
                    solutionHTML += solution;
                });

                // Dodaj sistemske komponente
                solutionHTML += `
                    <div class="result-section">
                        <div class="result-title">üîß Sistemske komponente</div>
                        <div class="result-content">
                            <p>Omni bo avtomatsko ustvaril naslednje komponente:</p>
                            <div class="action-items">
                                <ul>
                                    ${analysis.estimatedComponents.map(comp => `<li>${comp}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                `;

                // Dodaj implementacijski naƒçrt
                solutionHTML += this.generateImplementationPlan(analysis);

                resultsContent.innerHTML = solutionHTML;
            }

            generateCategorySolution(category, input) {
                const solutions = {
                    poslovanje: {
                        title: 'üíº Poslovna re≈°itev',
                        content: `Omni je analiziral va≈°e poslovne potrebe in pripravil celovito strategijo:
                        
                        <strong>Poslovni model:</strong>
                        ‚Ä¢ Analiza trga in konkurence
                        ‚Ä¢ Definiranje ciljne skupine
                        ‚Ä¢ Prihodkovni model in cenovna strategija
                        ‚Ä¢ Operativni naƒçrt in procesi
                        
                        <strong>Finanƒçni naƒçrt:</strong>
                        ‚Ä¢ Zaƒçetni kapital in financiranje
                        ‚Ä¢ Projekcije prihodkov in stro≈°kov
                        ‚Ä¢ Break-even analiza
                        ‚Ä¢ ROI kalkulacije`,
                        actions: [
                            'Registracija podjetja in pravne formalnosti',
                            'Vzpostavitev poslovnih procesov',
                            'Implementacija finanƒçnega sistema',
                            'Launch strategija in marketing'
                        ]
                    },
                    tehnologija: {
                        title: 'üíª Tehniƒçna re≈°itev',
                        content: `Omni je zasnoval celotno tehniƒçno arhitekturo:
                        
                        <strong>Sistemska arhitektura:</strong>
                        ‚Ä¢ Cloud infrastruktura (AWS/Azure)
                        ‚Ä¢ Mikrostoritve arhitektura
                        ‚Ä¢ API Gateway in load balancing
                        ‚Ä¢ Avtomatsko skaliranje
                        
                        <strong>Razvoj aplikacije:</strong>
                        ‚Ä¢ Frontend (React/Vue.js)
                        ‚Ä¢ Backend (Node.js/Python)
                        ‚Ä¢ Baza podatkov (PostgreSQL/MongoDB)
                        ‚Ä¢ Real-time komunikacija`,
                        actions: [
                            'Setup razvojnega okolja',
                            'Implementacija core funkcionalnosti',
                            'Integracija zunanjih API-jev',
                            'Testing in deployment'
                        ]
                    },
                    turizem: {
                        title: 'üèñÔ∏è Turistiƒçna re≈°itev',
                        content: `Omni je ustvaril celotno turistiƒçno destinacijo:
                        
                        <strong>Turistiƒçna ponudba:</strong>
                        ‚Ä¢ Nastanitvene kapacitete
                        ‚Ä¢ Gastronomska ponudba
                        ‚Ä¢ Aktivnosti in do≈æivetja
                        ‚Ä¢ Lokalne znamenitosti
                        
                        <strong>Digitalna platforma:</strong>
                        ‚Ä¢ Rezervacijski sistem
                        ‚Ä¢ Mobilna aplikacija za turiste
                        ‚Ä¢ Virtual tour in AR funkcije
                        ‚Ä¢ Review in rating sistem`,
                        actions: [
                            'Razvoj turistiƒçne infrastrukture',
                            'Kreiranje digitalnih vsebin',
                            'Marketing in promocija',
                            'Partnerstva z lokalnimi ponudniki'
                        ]
                    },
                    zdravstvo: {
                        title: 'üè• Zdravstvena re≈°itev',
                        content: `Omni je zasnoval celovit zdravstveni sistem:
                        
                        <strong>Zdravstvene storitve:</strong>
                        ‚Ä¢ Preventivni pregledi
                        ‚Ä¢ Specialistiƒçne ambulante
                        ‚Ä¢ Wellness in rehabilitacija
                        ‚Ä¢ Telemedicina
                        
                        <strong>Digitalni sistem:</strong>
                        ‚Ä¢ Elektronska zdravstvena kartoteka
                        ‚Ä¢ Online rezervacije
                        ‚Ä¢ AI diagnostika
                        ‚Ä¢ Mobilno spremljanje zdravja`,
                        actions: [
                            'Pridobitev zdravstvenih dovoljenj',
                            'Vzpostavitev medicinske opreme',
                            'Implementacija IT sistema',
                            'Usposabljanje osebja'
                        ]
                    },
                    splo≈°no: {
                        title: 'üåü Univerzalna re≈°itev',
                        content: `Omni je analiziral va≈°o zahtevo in pripravil personalizirano re≈°itev:
                        
                        <strong>Kljuƒçne komponente:</strong>
                        ‚Ä¢ Analiza potreb in ciljev
                        ‚Ä¢ Strategija implementacije
                        ‚Ä¢ Tehniƒçna arhitektura
                        ‚Ä¢ Poslovni model
                        
                        <strong>Implementacija:</strong>
                        ‚Ä¢ Fazni pristop k razvoju
                        ‚Ä¢ Agile metodologija
                        ‚Ä¢ Kontinuirano testiranje
                        ‚Ä¢ Iterativne izbolj≈°ave`,
                        actions: [
                            'Podrobna analiza zahtev',
                            'Priprava projektnega naƒçrta',
                            'Implementacija po fazah',
                            'Monitoring in optimizacija'
                        ]
                    }
                };

                const solution = solutions[category] || solutions.splo≈°no;
                
                return `
                    <div class="result-section">
                        <div class="result-title">${solution.title}</div>
                        <div class="result-content">
                            ${solution.content}
                            <div class="action-items">
                                <h4>üöÄ Akcijski koraki:</h4>
                                <ul>
                                    ${solution.actions.map(action => `<li>${action}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                `;
            }

            generateImplementationPlan(analysis) {
                const timeframe = this.calculateTimeframe(analysis.complexity);
                const budget = this.estimateBudget(analysis.complexity, analysis.estimatedComponents.length);
                
                return `
                    <div class="result-section">
                        <div class="result-title">üìã Implementacijski naƒçrt</div>
                        <div class="result-content">
                            <p><strong>Predviden ƒças realizacije:</strong> ${timeframe}</p>
                            <p><strong>Ocenjen proraƒçun:</strong> ${budget}</p>
                            
                            <div class="action-items">
                                <h4>üìÖ ƒåasovnica:</h4>
                                <ul>
                                    <li><strong>Faza 1 (Teden 1-2):</strong> Analiza in naƒçrtovanje</li>
                                    <li><strong>Faza 2 (Teden 3-6):</strong> Razvoj core funkcionalnosti</li>
                                    <li><strong>Faza 3 (Teden 7-10):</strong> Integracije in testiranje</li>
                                    <li><strong>Faza 4 (Teden 11-12):</strong> Launch in optimizacija</li>
                                </ul>
                            </div>
                            
                            <div class="action-items">
                                <h4>üë• Potreben tim:</h4>
                                <ul>
                                    <li>Projektni manager</li>
                                    <li>Full-stack developer</li>
                                    <li>UI/UX designer</li>
                                    <li>Marketing specialist</li>
                                    <li>QA tester</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="result-section">
                        <div class="result-title">üéâ Konƒçni rezultat</div>
                        <div class="result-content">
                            <p><strong>Omni bo ustvaril:</strong></p>
                            <div class="action-items">
                                <ul>
                                    <li>Popolnoma funkcionalno re≈°itev</li>
                                    <li>Vso potrebno dokumentacijo</li>
                                    <li>Usposabljanje za uporabo</li>
                                    <li>Podporo in vzdr≈æevanje</li>
                                    <li>Mo≈ænosti za nadgradnje</li>
                                </ul>
                            </div>
                            <p style="margin-top: 20px; padding: 15px; background: #e8f5e8; border-radius: 10px; border-left: 4px solid #4caf50;">
                                <strong>‚úÖ Garancija:</strong> Omni zagotavlja 98% uspe≈°nost izpolnitve vseh va≈°ih zahtev z mo≈ænostjo brezplaƒçnih popravkov in izbolj≈°av!
                            </p>
                        </div>
                    </div>
                `;
            }

            calculateTimeframe(complexity) {
                const timeframes = {
                    'Nizka': '2-4 tedne',
                    'Srednja': '1-2 meseca',
                    'Visoka': '2-4 mesece',
                    'Zelo visoka': '4-6 mesecev'
                };
                return timeframes[complexity] || '1-3 mesece';
            }

            estimateBudget(complexity, componentCount) {
                const baseBudget = {
                    'Nizka': 5000,
                    'Srednja': 15000,
                    'Visoka': 35000,
                    'Zelo visoka': 75000
                };
                
                const base = baseBudget[complexity] || 20000;
                const total = base + (componentCount * 2000);
                
                return `‚Ç¨${total.toLocaleString()} - ‚Ç¨${(total * 1.5).toLocaleString()}`;
            }

            // Metode za sistem uƒçenja
            saveResultsForLearning(interactionId, results) {
                if (this.learningSystem) {
                    this.learningSystem.recordFeedback(interactionId, 'positive', {
                        success: results.success,
                        generatedElements: Object.keys(results).length - 2, // -2 za input in success
                        complexity: this.analyzeComplexity(results.input),
                        timestamp: Date.now()
                    });
                }
            }

            analyzeComplexity(input) {
                const words = input.toLowerCase().split(' ');
                const complexKeywords = ['integracija', 'api', 'baza', 'avtomatizacija', 'ai', 'ml', 'blockchain'];
                const complexCount = words.filter(word => complexKeywords.some(keyword => word.includes(keyword))).length;
                
                if (complexCount >= 3) return 'Zelo visoka';
                if (complexCount >= 2) return 'Visoka';
                if (complexCount >= 1) return 'Srednja';
                return 'Nizka';
            }

            getPersonalizedGreeting() {
                if (this.learningSystem) {
                    const profile = this.learningSystem.getPersonalityProfile();
                    if (profile.interactionCount > 5) {
                        return `Dobrodo≈°li nazaj! Na podlagi ${profile.interactionCount} preteklih interakcij sem pripravljen na va≈°e nove izzive.`;
                    } else if (profile.interactionCount > 0) {
                        return `Lepo vas je spet videti! Pripravljen sem na nadaljnje sodelovanje.`;
                    }
                }
                return 'Dobrodo≈°li v Omni Universal Creator!';
            }

            // Prilagodi zahteve na podlagi preteklih izku≈°enj
            adaptRequirements(originalInput, learningResult) {
                let adaptedInput = originalInput;
                
                if (this.learningSystem && learningResult) {
                    const patterns = this.learningSystem.analyzePatterns();
                    const preferences = this.learningSystem.getUserPreferences();
                    const recommendations = this.learningSystem.getPersonalizedRecommendations(originalInput);
                    
                    // Dodaj kontekstualne izbolj≈°ave na podlagi preteklih uspe≈°nih projektov
                    if (patterns.successfulPatterns && patterns.successfulPatterns.length > 0) {
                        const relevantPatterns = patterns.successfulPatterns.filter(pattern => 
                            this.calculateSimilarity(originalInput, pattern.input) > 0.3
                        );
                        
                        if (relevantPatterns.length > 0) {
                            const bestPattern = relevantPatterns[0];
                            adaptedInput += `\n\nüéØ Personalizirane izbolj≈°ave na podlagi va≈°ih preteklih uspe≈°nih projektov:`;
                            adaptedInput += `\n- Priporoƒçam vkljuƒçitev: ${bestPattern.successFactors?.join(', ') || 'napredne funkcionalnosti'}`;
                            adaptedInput += `\n- Optimizacija za: ${bestPattern.domain || 'va≈°e podroƒçje'}`;
                        }
                    }
                    
                    // Prilagodi kompleksnost na podlagi uporabnikovih preferenc
                    if (preferences.preferredComplexity) {
                        if (preferences.preferredComplexity === 'detailed') {
                            adaptedInput += `\n\nüìã Zahtevam podrobno tehniƒçno dokumentacijo in napredne funkcionalnosti.`;
                        } else if (preferences.preferredComplexity === 'simple') {
                            adaptedInput += `\n\n‚ú® Poudarek na enostavnosti uporabe in intuitivnem vmesniku.`;
                        }
                    }
                    
                    // Dodaj personalizirana priporoƒçila
                    if (recommendations && recommendations.length > 0) {
                        adaptedInput += `\n\nüí° Personalizirana priporoƒçila:`;
                        recommendations.slice(0, 3).forEach((rec, index) => {
                            adaptedInput += `\n${index + 1}. ${rec}`;
                        });
                    }
                    
                    // Prilagodi na podlagi domenske ekspertize
                    const domainExpertise = this.learningSystem.getDomainExpertise();
                    if (domainExpertise && Object.keys(domainExpertise).length > 0) {
                        const topDomain = Object.keys(domainExpertise).reduce((a, b) => 
                            domainExpertise[a] > domainExpertise[b] ? a : b
                        );
                        
                        if (domainExpertise[topDomain] > 3) {
                            adaptedInput += `\n\nüèÜ Specializacija za ${topDomain}: Vkljuƒçujem napredne funkcionalnosti za to podroƒçje.`;
                        }
                    }
                }
                
                return adaptedInput;
            }
            
            // Izraƒçunaj podobnost med dvema besediloma
            calculateSimilarity(text1, text2) {
                const words1 = text1.toLowerCase().split(/\s+/);
                const words2 = text2.toLowerCase().split(/\s+/);
                const intersection = words1.filter(word => words2.includes(word));
                const union = [...new Set([...words1, ...words2])];
                return intersection.length / union.length;
            }

            adaptResponseToUser(baseResponse, userInput) {
                if (this.learningSystem) {
                    const patterns = this.learningSystem.analyzePatterns();
                    const preferences = this.learningSystem.getUserPreferences();
                    
                    // Prilagodi na podlagi preferenc
                    if (preferences.preferredComplexity === 'detailed') {
                        baseResponse += '\n\nüìã Dodatne podrobnosti in tehniƒçne specifikacije so na voljo na zahtevo.';
                    } else if (preferences.preferredComplexity === 'simple') {
                        baseResponse = baseResponse.replace(/tehniƒçni|API|integracija/gi, match => 
                            match.toLowerCase() === 'tehniƒçni' ? 'enostaven' :
                            match.toLowerCase() === 'api' ? 'povezava' :
                            match.toLowerCase() === 'integracija' ? 'povezovanje' : match
                        );
                    }
                    
                    // Dodaj personalizirane predloge
                    if (patterns.commonRequests && patterns.commonRequests.length > 0) {
                        baseResponse += `\n\nüí° Na podlagi va≈°ih preteklih zahtev predlagam tudi: ${patterns.commonRequests.slice(0, 2).join(', ')}`;
                    }
                }
                
                return baseResponse;
            }

            // Sistem za kontinuirano izbolj≈°evanje na podlagi povratnih informacij
            addFeedbackSystem() {
                const feedbackContainer = document.createElement('div');
                feedbackContainer.id = 'feedback-system';
                feedbackContainer.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    padding: 15px;
                    border-radius: 15px;
                    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
                    z-index: 1000;
                    max-width: 300px;
                    display: none;
                `;

                feedbackContainer.innerHTML = `
                    <div style="margin-bottom: 10px;">
                        <strong>üéØ Kako ocenjujete rezultat?</strong>
                    </div>
                    <div style="display: flex; gap: 5px; margin-bottom: 10px;">
                        <button onclick="window.submitFeedback(5)" style="background: #28a745; border: none; color: white; padding: 5px 10px; border-radius: 5px; cursor: pointer;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</button>
                        <button onclick="window.submitFeedback(4)" style="background: #17a2b8; border: none; color: white; padding: 5px 10px; border-radius: 5px; cursor: pointer;">‚≠ê‚≠ê‚≠ê‚≠ê</button>
                        <button onclick="window.submitFeedback(3)" style="background: #ffc107; border: none; color: white; padding: 5px 10px; border-radius: 5px; cursor: pointer;">‚≠ê‚≠ê‚≠ê</button>
                        <button onclick="window.submitFeedback(2)" style="background: #fd7e14; border: none; color: white; padding: 5px 10px; border-radius: 5px; cursor: pointer;">‚≠ê‚≠ê</button>
                        <button onclick="window.submitFeedback(1)" style="background: #dc3545; border: none; color: white; padding: 5px 10px; border-radius: 5px; cursor: pointer;">‚≠ê</button>
                    </div>
                    <textarea id="feedback-comments" placeholder="Dodatni komentarji (opcijsko)..." style="width: 100%; height: 60px; border: none; border-radius: 5px; padding: 5px; margin-bottom: 10px; resize: vertical;"></textarea>
                    <div style="display: flex; gap: 10px;">
                        <button onclick="window.closeFeedback()" style="background: #6c757d; border: none; color: white; padding: 8px 15px; border-radius: 5px; cursor: pointer; flex: 1;">Zapri</button>
                        <button onclick="window.submitDetailedFeedback()" style="background: #28a745; border: none; color: white; padding: 8px 15px; border-radius: 5px; cursor: pointer; flex: 1;">Po≈°lji</button>
                    </div>
                `;

                document.body.appendChild(feedbackContainer);
                return feedbackContainer;
            }

            showFeedbackRequest(interactionId) {
                this.currentInteractionId = interactionId;
                const feedbackSystem = document.getElementById('feedback-system') || this.addFeedbackSystem();
                feedbackSystem.style.display = 'block';
                
                // Samodejno skrij po 30 sekundah
                setTimeout(() => {
                    if (feedbackSystem.style.display === 'block') {
                        feedbackSystem.style.display = 'none';
                    }
                }, 30000);
            }

            submitFeedback(rating) {
                if (this.learningSystem && this.currentInteractionId) {
                    this.learningSystem.recordFeedback(this.currentInteractionId, rating >= 4 ? 'positive' : 'negative', {
                        rating: rating,
                        timestamp: Date.now(),
                        quickFeedback: true
                    });
                    
                    this.showFeedbackThankYou(rating);
                    this.processFeedbackForImprovement(rating);
                }
                this.closeFeedback();
            }

            submitDetailedFeedback() {
                const comments = document.getElementById('feedback-comments').value;
                if (this.learningSystem && this.currentInteractionId) {
                    this.learningSystem.recordFeedback(this.currentInteractionId, 'detailed', {
                        comments: comments,
                        timestamp: Date.now(),
                        detailedFeedback: true
                    });
                    
                    this.showFeedbackThankYou('detailed');
                    this.processFeedbackForImprovement('detailed', comments);
                }
                this.closeFeedback();
            }

            closeFeedback() {
                const feedbackSystem = document.getElementById('feedback-system');
                if (feedbackSystem) {
                    feedbackSystem.style.display = 'none';
                }
            }

            // Obdelaj povratne informacije za kontinuirano izbolj≈°evanje
            processFeedbackForImprovement(rating, comments = '') {
                if (!this.learningSystem) return;
                
                // Analiziraj povratne informacije za sistemske izbolj≈°ave
                const improvements = this.analyzeFeedbackForImprovements(rating, comments);
                
                // Posodobi sistemske parametre na podlagi povratnih informacij
                if (improvements.length > 0) {
                    improvements.forEach(improvement => {
                        this.applySystemImprovement(improvement);
                    });
                    
                    // Shrani izbolj≈°ave v sistem uƒçenja
                    this.learningSystem.recordSystemImprovement({
                        timestamp: Date.now(),
                        improvements: improvements,
                        triggerRating: rating,
                        triggerComments: comments
                    });
                }
                
                // Prilagodi prihodnje odzive na podlagi povratnih informacij
                this.adaptFutureResponses(rating, comments);
            }
            
            // Analiziraj povratne informacije za konkretne izbolj≈°ave
            analyzeFeedbackForImprovements(rating, comments) {
                const improvements = [];
                
                // Analiza na podlagi ocene
                if (rating <= 2) {
                    improvements.push({
                        type: 'quality',
                        action: 'increase_detail_level',
                        priority: 'high',
                        description: 'Poveƒçaj podrobnost in kakovost generiranih re≈°itev'
                    });
                    
                    improvements.push({
                        type: 'personalization',
                        action: 'enhance_user_profiling',
                        priority: 'medium',
                        description: 'Izbolj≈°aj profiliranje uporabnika za bolj≈°e prilagajanje'
                    });
                } else if (rating === 3) {
                    improvements.push({
                        type: 'relevance',
                        action: 'improve_context_understanding',
                        priority: 'medium',
                        description: 'Izbolj≈°aj razumevanje konteksta zahtev'
                    });
                }
                
                // Analiza komentarjev
                if (comments) {
                    const lowerComments = comments.toLowerCase();
                    
                    if (lowerComments.includes('poƒçasen') || lowerComments.includes('dolgo')) {
                        improvements.push({
                            type: 'performance',
                            action: 'optimize_generation_speed',
                            priority: 'high',
                            description: 'Optimiziraj hitrost generiranja'
                        });
                    }
                    
                    if (lowerComments.includes('zapleten') || lowerComments.includes('te≈æko')) {
                        improvements.push({
                            type: 'usability',
                            action: 'simplify_interface',
                            priority: 'medium',
                            description: 'Poenostavi uporabni≈°ki vmesnik'
                        });
                    }
                    
                    if (lowerComments.includes('manjka') || lowerComments.includes('potrebujem')) {
                        improvements.push({
                            type: 'features',
                            action: 'analyze_missing_features',
                            priority: 'medium',
                            description: 'Analiziraj manjkajoƒçe funkcionalnosti'
                        });
                    }
                    
                    if (lowerComments.includes('odliƒçen') || lowerComments.includes('super') || lowerComments.includes('perfekt')) {
                        improvements.push({
                            type: 'reinforcement',
                            action: 'strengthen_successful_patterns',
                            priority: 'low',
                            description: 'Okrepi uspe≈°ne vzorce'
                        });
                    }
                }
                
                return improvements;
            }
            
            // Uporabi sistemske izbolj≈°ave
            applySystemImprovement(improvement) {
                switch (improvement.action) {
                    case 'increase_detail_level':
                        this.systemSettings = this.systemSettings || {};
                        this.systemSettings.detailLevel = Math.min((this.systemSettings.detailLevel || 1) + 0.1, 2);
                        break;
                        
                    case 'optimize_generation_speed':
                        this.systemSettings = this.systemSettings || {};
                        this.systemSettings.parallelProcessing = true;
                        this.systemSettings.cacheResults = true;
                        break;
                        
                    case 'simplify_interface':
                        this.systemSettings = this.systemSettings || {};
                        this.systemSettings.simplifiedMode = true;
                        break;
                        
                    case 'enhance_user_profiling':
                        if (this.learningSystem) {
                            this.learningSystem.enhanceProfilingAccuracy();
                        }
                        break;
                        
                    case 'strengthen_successful_patterns':
                        if (this.learningSystem) {
                            this.learningSystem.reinforceSuccessfulPatterns();
                        }
                        break;
                }
                
                console.log(`‚úÖ Sistemska izbolj≈°ava aplicirana: ${improvement.description}`);
            }
            
            // Prilagodi prihodnje odzive na podlagi povratnih informacij
            adaptFutureResponses(rating, comments) {
                if (!this.learningSystem) return;
                
                const adaptations = {
                    timestamp: Date.now(),
                    rating: rating,
                    comments: comments,
                    adaptations: []
                };
                
                // Prilagoditve na podlagi ocene
                if (rating >= 4) {
                    adaptations.adaptations.push('maintain_current_approach');
                    adaptations.adaptations.push('increase_confidence_in_similar_requests');
                } else if (rating <= 2) {
                    adaptations.adaptations.push('increase_detail_and_explanation');
                    adaptations.adaptations.push('ask_more_clarifying_questions');
                    adaptations.adaptations.push('provide_alternative_solutions');
                }
                
                // Prilagoditve na podlagi komentarjev
                if (comments) {
                    const sentiment = this.analyzeCommentSentiment(comments);
                    adaptations.sentiment = sentiment;
                    
                    if (sentiment === 'positive') {
                        adaptations.adaptations.push('replicate_successful_elements');
                    } else if (sentiment === 'negative') {
                        adaptations.adaptations.push('avoid_similar_approaches');
                        adaptations.adaptations.push('increase_user_engagement');
                    }
                }
                
                // Shrani prilagoditve v sistem uƒçenja
                this.learningSystem.recordResponseAdaptations(adaptations);
            }
            
            // Analiziraj sentiment komentarjev
            analyzeCommentSentiment(comments) {
                const positiveWords = ['odliƒçen', 'super', 'perfekt', 'dobro', 'hvala', 'uporaben', 'koristen'];
                const negativeWords = ['slabo', 'poƒçasen', 'zapleten', 'te≈æko', 'manjka', 'napaka', 'problem'];
                
                const lowerComments = comments.toLowerCase();
                const positiveCount = positiveWords.filter(word => lowerComments.includes(word)).length;
                const negativeCount = negativeWords.filter(word => lowerComments.includes(word)).length;
                
                if (positiveCount > negativeCount) return 'positive';
                if (negativeCount > positiveCount) return 'negative';
                return 'neutral';
            }

            showFeedbackThankYou(rating) {
                const thankYouMessage = document.createElement('div');
                thankYouMessage.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: linear-gradient(135deg, #28a745, #20c997);
                    color: white;
                    padding: 20px;
                    border-radius: 15px;
                    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
                    z-index: 1001;
                    text-align: center;
                `;

                thankYouMessage.innerHTML = `
                    <div style="font-size: 24px; margin-bottom: 10px;">üôè</div>
                    <div style="font-weight: bold; margin-bottom: 5px;">Hvala za povratne informacije!</div>
                    <div style="font-size: 14px;">Va≈° odziv pomaga izbolj≈°ati Omni sistem.</div>
                `;

                document.body.appendChild(thankYouMessage);
                
                setTimeout(() => {
                    document.body.removeChild(thankYouMessage);
                }, 3000);
            }

            processFeedbackForImprovement(rating, comments = '') {
                if (!this.learningSystem) return;

                // Analiza povratnih informacij za izbolj≈°ave
                if (typeof rating === 'number' && rating <= 2) {
                    // Nizka ocena - potrebne izbolj≈°ave
                    this.learningSystem.addImprovementSuggestion({
                        type: 'low_rating',
                        rating: rating,
                        suggestion: 'Preglej generiranje rezultatov za bolj≈°o kakovost',
                        priority: 'high',
                        timestamp: Date.now()
                    });
                } else if (typeof rating === 'number' && rating >= 4) {
                    // Visoka ocena - zabele≈æi uspe≈°ne vzorce
                    this.learningSystem.recordSuccessPattern({
                        type: 'high_rating',
                        rating: rating,
                        context: this.lastGeneratedContext,
                        timestamp: Date.now()
                    });
                }

                // Analiza komentarjev za kljuƒçne besede
                if (comments) {
                    const improvementKeywords = ['poƒçasen', 'napaka', 'ne deluje', 'slabo', 'te≈æave'];
                    const positiveKeywords = ['odliƒçen', 'super', 'perfekten', 'hitro', 'uporaben'];
                    
                    const hasImprovementNeeds = improvementKeywords.some(keyword => 
                        comments.toLowerCase().includes(keyword)
                    );
                    
                    const hasPositiveFeedback = positiveKeywords.some(keyword => 
                        comments.toLowerCase().includes(keyword)
                    );

                    if (hasImprovementNeeds) {
                        this.learningSystem.addImprovementSuggestion({
                            type: 'user_comment',
                            comments: comments,
                            suggestion: 'Analiza komentarjev uporabnika za specifiƒçne izbolj≈°ave',
                            priority: 'medium',
                            timestamp: Date.now()
                        });
                    }

                    if (hasPositiveFeedback) {
                        this.learningSystem.recordSuccessPattern({
                            type: 'positive_comment',
                            comments: comments,
                            context: this.lastGeneratedContext,
                            timestamp: Date.now()
                        });
                    }
                }

                // Kontinuirano uƒçenje na podlagi povratnih informacij
                this.updateSystemBasedOnFeedback();
            }

            updateSystemBasedOnFeedback() {
                if (!this.learningSystem) return;

                const recentFeedback = this.learningSystem.getRecentFeedback(10);
                if (recentFeedback.length === 0) return;

                const averageRating = recentFeedback.reduce((sum, fb) => sum + (fb.rating || 3), 0) / recentFeedback.length;

                // Prilagodi sistem na podlagi povpreƒçne ocene
                if (averageRating < 3.5) {
                    // Nizka povpreƒçna ocena - aktiviraj izbolj≈°ave
                    this.activateImprovementMode();
                } else if (averageRating >= 4.5) {
                    // Visoka povpreƒçna ocena - optimiziraj uspe≈°ne vzorce
                    this.optimizeSuccessPatterns();
                }
            }

            activateImprovementMode() {
                console.log('üîß Aktivacija naƒçina izbolj≈°av na podlagi povratnih informacij');
                this.improvementMode = true;
                this.adjustGenerationParameters('conservative');
            }

            optimizeSuccessPatterns() {
                console.log('‚ö° Optimizacija uspe≈°nih vzorcev na podlagi pozitivnih povratnih informacij');
                this.adjustGenerationParameters('optimized');
            }

            adjustGenerationParameters(mode) {
                switch(mode) {
                    case 'conservative':
                        this.generationParams = {
                            complexity: 'medium',
                            validation: 'strict',
                            testing: 'extensive'
                        };
                        break;
                    case 'optimized':
                        this.generationParams = {
                            complexity: 'adaptive',
                            validation: 'smart',
                            testing: 'targeted'
                        };
                        break;
                }
            }
        }

        // Globalne funkcije za feedback sistem
        window.submitFeedback = function(rating) {
            if (window.omniCreator) {
                window.omniCreator.submitFeedback(rating);
            }
        };

        window.submitDetailedFeedback = function() {
            if (window.omniCreator) {
                window.omniCreator.submitDetailedFeedback();
            }
        };

        window.closeFeedback = function() {
            if (window.omniCreator) {
                window.omniCreator.closeFeedback();
            }
        };
        }

        // Inicializacija
        const omniCreator = new OmniUniversalCreator();
        const omniLearning = new OmniLearningSystem();

        function createEverything() {
            omniCreator.createEverything();
        }

        function fillExample(element) {
            const text = element.textContent.split('\n')[1].trim();
            document.getElementById('universalInput').value = text;
        }

        // Dodaj enter shortcut
        document.getElementById('universalInput').addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                createEverything();
            }
        });
    </script>
    <script src="omni-learning-system.js"></script>
</body>
</html>